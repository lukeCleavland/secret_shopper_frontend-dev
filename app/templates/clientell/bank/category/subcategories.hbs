<div style="padding-top:5px;" data-position="top">
  <div class="alert alert-info alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      <p>Here are the subcategories you've created for this category.  Click on one to view its questions.</p>
      <button class="btn btn-default" style="margin-top: 10px;" {{action 'showLearnMoreModal'}}>Learn More</button>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Subcategories</h3>
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Edit/Delete</th>
          <th>Questions</th>
        </tr>
      </thead>
      <tbody>
        {{#each s in this.model}}
        {{#unless s.isEditing}}
          <tr>
            <td class="col-sm-6" style="padding: 15px;">
              {{#link-to 'clientell.bank.category.subcategory' s}}{{s.name}}{{/link-to}}
            </td>
            <td class="col-sm-3" >
              <div class="btn-group" role="group" aria-label="...">
                <button type="button" {{action 'editSubcategoryStart' s}} class="btn btn-sm btn-warning">Edit</button>
                <button type="button" {{action 'deleteSubcategory' s}} class="btn btn-sm btn-danger">Delete</button>
              </div>
            </td>
            <td class="col-sm-3" style="padding: 15px;"><span class="badge">{{s.questions.length}}</span></td>
          </tr>
          {{else}}
          <tr>
            <td class="col-sm-6">
              {{input type="text" value=s.name class="form-control" placeholder="New subcategory name..."}}
            </td>
            <td>
              <div class="btn-group" role="group" aria-label="...">
                <button type="button" {{action 'editSubcategorySave' s}} class="btn btn-sm btn-success">Save</button>
                <button type="button" {{action 'cancelEditSubcategory' s}} class="btn btn-sm btn-danger">Cancel</button>
              </div>
            </td>
            <td></td>
          </tr>
          {{/unless}}
        {{/each}}
      </tbody>
    </table>
    {{#unless this.model.length}}
    <div class="panel-body">
      <strong>There's nothing here!</strong> <span>Click the 'Add new content' button to add a subcategory.</span>
    </div>
    {{/unless}}
  </div>
</div>
<div id="learn-more-modal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="loading-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="add-category-label">Help</h4>
            </div>
            <div class="modal-body">
                <p>Here are the available subcategories.</p>
                <p>Click <span class="label label-warning">Edit</span> to change a subcategory name, or <span class="label label-danger">Delete</span> to remove one.</p>
                <p><strong>Be careful though!</strong> Deleting subcategories cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">OK</button>
            </div>
        </div>
    </div>
</div>
